<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Repair Agency</title>
    <link rel="stylesheet" href="/assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/fonts/font-awesome.min.css">
    <link rel="stylesheet" href="/assets/fonts/ionicons.min.css">
    <link rel="stylesheet" href="/assets/css/styles2.min.css">
    <link rel="stylesheet" href="/assets/css/style.css">
</head>

<body>
<div>
    <nav class="navbar navbar-light navbar-expand-md navigation-clean-button">
        <div class="container"><a class="navbar-brand" href="#">RepAgency</a>
            <button class="navbar-toggler" data-toggle="collapse" data-target="#navcol-1"><span class="sr-only">Toggle navigation</span><span
                    class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse"
                 id="navcol-1">
                <span class="navbar-text actions"> <a href="/user" class="login" th:text="#{msg.login}"></a>
                    <a class="btn btn-light action-button" role="button" href="/reg" th:text="#{msg.reg}"
                       style="background-color: #FF3C40;"></a>
                </span>
                <button class="btn" type="button"
                        value="uk"
                        id="locales2"
                        style="height: 20px;background-image: url(&quot;/assets/img/ua.jpg&quot;);background-position: center;margin-right: 2px;margin-left: 15px;"></button>
                <button
                        value="en"
                        class="btn" type="button" id="locales"
                        style="height: 20px;background-image: url(&quot;/assets/img/en.jpg&quot;);background-position: center;background-size: cover;background-repeat: no-repeat;padding-right: 12px;margin: 6px;margin-top: 6px;margin-right: -27px;margin-left: 1px;"></button>
            </div>
        </div>
    </nav>
</div>
<!--<div data-bs-parallax-bg="true"-->
<!--     style="height: 500px;background-image: url(&quot;/assets/img/background.png&quot;);background-position: center;background-size: cover;"></div>-->

<div style="margin-left:20px; margin-right: 20px;" class="row">
    <div class="col">
        <div class="table-responsive">
            <table class="table table-borderless">

                <div th:each="product: ${products}">
                    <tr>
                        <td th:text="${product.name}"></td>

                        <td th:text="${product.price}"></td>
                        <td>
                            <a th:href="@{/local/buy-product?(id=${product.id})}" type="submit"
                               th:style="${product.currentLoad == 0 ? 'pointer-events: none;' : 'pointer-events: auto;'}">
                                Buy
                            </a>
                        </td>
                        <td>
                            <button th:style="${product.currentLoad == 0 ? 'background-color: red;' : 'background-color: green;'}"
                                    class="button button5"></button>
                        </td>
                    </tr>
                </div>
            </table>
        </div>
    </div>
</div>
<div th:style="${error == false ? 'visibility:hidden;' : 'visibility:visible;'}" class="alert alert-danger" role="alert">
    Put enought money please
</div>

<div>
    <form th:action="@{/local/pay}"
          method="post">
        Put <span th:text="${payment}"></span> money
        <input name="money"  pattern="[0-9]+">
        <button type="submit"> Pay </button>
        <a href="/local/cancel"  onclick="makeCanceled()" type="submit">Cancel</a>
    </form>
</div>
<div id="cancel" style="display:none;" class="alert alert-primary" role="alert">
    Returned <span th:text="${return}"></span> money
</div>

<script src="assets/js/jquery.min.js"></script>
<script src="assets/bootstrap/js/bootstrap.min.js"></script>
<script src="assets/js/script2.min.js"></script>
<script>
    function makeCanceled() {
        document.getElementById("cancel").style.display = "block";
    }
</script>
<script type="text/javascript">
    $(document).ready(function () {
        $("#locales").click(function () {
            var selectedOption = $('#locales').val();
            if (selectedOption != '') {
                window.location.replace('?lang=' + selectedOption);
            }
        });
    });
</script>
<script type="text/javascript">
    $(document).ready(function () {
        $("#locales2").click(function () {
            var selectedOption = $('#locales2').val();
            if (selectedOption != '') {
                window.location.replace('?lang=' + selectedOption);
            }
        });
    });
</script>
<script>
    $('select').on('change', function () {

        $('select').find('option').prop('disabled', false);

        $('select').each(function () {
            $('select').not(this).find('option[value="' + this.value + '"]').prop('disabled', true);
        });

    });
</script>
</body>

</html>